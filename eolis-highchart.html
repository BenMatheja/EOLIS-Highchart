<!DOCTYPE html>
<html lang=de>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <!-- JQuery 1.11.3 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Highcharts.js -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-3d.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <!-- Latest compiled and minified Bootstrap 3-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-xs-12">
                <div id="canvas" style="height: 800px;">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 text-center">
                <div class="btn-group" role="group" aria-label="...">
                    <button type="button" class="btn btn-primary" id="nissan_mobil">Nissan x Mobile Anwendung</button>
                    <button type="button" class="btn btn-primary" id="nissan_stat">Nissan x Stationäre Anwendung</button>
                    <button type="button" class="btn btn-primary" id="bmw_mobil">BMW x Mobile Anwendung</button>
                    <button type="button" class="btn btn-primary" id="bmw_stat">BMW x Stationäre Anwendung</button>
                </div>
            </div>
        </div>
    </div>

    <script>
var cluster_assigned_object = { }

function fillJSObject(arg1) {
    cluster_assigned_object = arg1;
}
$(function () {
    // Give the points a 3D feel by adding a radial gradient
    Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function (color) {
        return {
            radialGradient: {
                cx: 0.4,
                cy: 0.3,
                r: 0.5
            },
            stops: [
                [0, color],
                [1, Highcharts.Color(color).brighten(-0.2).get('rgb')]
            ]
        };
    });

    // Set up the chart
    var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'canvas',
            margin: 50,
            type: 'scatter',
            options3d: {
                enabled: true,
                alpha: 10,
                beta: 30,
                depth: 300,
                viewDistance: 5,
                frame: {
                    bottom: { size: 1, color: 'rgba(0,0,0,0.02)' },
                    back: { size: 1, color: 'rgba(0,0,0,0.04)' },
                    side: { size: 1, color: 'rgba(0,0,0,0.06)' }
                }
            }
        },
        title: {
            text: 'Relative deviations of Assignments (Battery to Scenario)'
        },
        subtitle: {
            text: "by current, voltage and capacity for Nissan x Mobile Anwendung"
        },
        plotOptions: {
            scatter: {
                width: 1,
                height: 1,
                depth: 0.5,
                dashStyle: "Dash",
                marker: {symbol: "circle"}
            }
        },
        // If the min max values are left out, highcharts calculates min max out of data
        yAxis: {
            //min: 0.58,
            //max: 15,
            title: {
                text: 'capacity'
            }
        },
        xAxis: {
            //min: 0.58,
            //max: 2.25,
            title: {
                text: 'voltage'
            }
        },
        zAxis: {
            // min: 0.039,
            //max: 10,
            title: {
                text: 'current'
            }
        },
        legend: {
            enabled: false
        }
    });
    // Add mouse events for rotation
    $(chart.container).bind('mousedown.hc touchstart.hc', function (eStart) {
        eStart = chart.pointer.normalize(eStart);

        var posX = eStart.pageX,
            posY = eStart.pageY,
            alpha = chart.options.chart.options3d.alpha,
            beta = chart.options.chart.options3d.beta,
            newAlpha,
            newBeta,
            sensitivity = 1; // lower is more sensitive

        $(document).bind({
            'mousemove.hc touchdrag.hc': function (e) {
                // Run beta
                newBeta = beta + (posX - e.pageX) / sensitivity;
                chart.options.chart.options3d.beta = newBeta;

                // Run alpha
                newAlpha = alpha + (e.pageY - posY) / sensitivity;
                chart.options.chart.options3d.alpha = newAlpha;

                chart.redraw(false);
            },
            'mouseup touchend': function () {
                $(document).unbind('.hc');
            }
        });
    });
    $('#bmw_mobil').click(function() {
        var chart = $('#canvas').highcharts();
        chart.addSeries(series_entry);
    });

    $('nissan_mobil').click(function() {
    	var chart = $('#canvas').highcharts();
    	chart.series[2].visible = true;
    	chart.redraw();
    });

});
    </script>
</body>

</html>